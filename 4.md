# Отличие Objective C блоков от Swift Closures

## Objective C блоки
- являются объектами (можно вложить в NSArray, NSDictionary)
- по умолчанию передаются только значения переменных, однако если указать "\_\_block" перед объявлением переменной во внешнем скоупе, то она будет храниться (захватываться) месте доступном для изменения как из блока, так и из внешнего скоупа (в куче, а блок будет хранить ссылку на переменную)
- отличаются областью памяти (стек, куча) где хранятся и классом который наследуют (NSStackBlock, NSMallocBlock, NSGlobalBlock) (подробнее https://habr.com/ru/post/271255/)

## Swift замыкания
- first class objects (объекты которые можно использовать без ограничений, вложить, передать), имеют ref-тип
- захватывают ссылки на ref-типы, и ссылки на переменные - не просто получают доступ к значениям, но и изменяют по умолчанию
- чтобы не retain'ить инстансы имееющие ref-тип, в closure их надо передавать как weak, и ставить guard на входе
- бывают escaping (исполняются асинхронно), nonescaping (исполняются синхронно, по умолчанию) и autoclosure (не будет evaluated пока не вызовут)

## Отличие
- по умолчанию инстансы value-типов передаются в ObjC блоки как значения, а в Swift Closure захватываются как ссылки на память где они хранятся


# Протокол Hashable
Поддержка протокола инстансом говорит о том, что все данные инстанса могут быть преобразованы в уникальный ключ и их можно будет найти, например, в словаре подобных инстансов.